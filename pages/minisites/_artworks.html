
{$index = 0}
<div class="item-container">
  <div class="item-grid-sizer"></div>
  <div class="item-gutter-sizer"></div>
    {foreach from=$artworks item=artwork}
      {$container_id = "artwork_`$artwork.id`"}
      {$data = ["obj_type" => "media_collection","obj_id" => $scope.collection_id, "plugin_id" => "1355","container_id" => $container_id]}
      {$popup_options = ["buttons" => ["info","contact","map","zoom","share","fullscreen"], "tabs" => ["artwork","artist"], "title" => ["artwork","technique","artist","year"]]}
      <div class="item-grid effect-{$ms.art_animation}">
        <div class="hover_style">       
          <figure id="{$container_id}" data-data='{$data|@json_encode}' data-sharer_id="{$scope.user_id}" data-popup_options='{$popup_options|@json_encode}' data-index="{$index}" class="vp-loader-photoswipe effect-{$ms.art_animation}">
            <div class="hover_cover">
              <img class="center-cropped" src="{$artwork.media_id|photo:'medium'}" alt="{$artwork.name}">
              {{"include": "minisites/caption/hover_caption.html"}} 
              <a href="#" id="__vp-view-button-1355">View</a>               
            </div> 
          </figure>
        </div>
      </div>  
    {$index = $index + 1}
    {/foreach}
</div>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/masonry/3.3.2/masonry.pkgd.min.js'></script>
  <script>
    jQuery(window).on('load', function() {
      $('.item-container').masonry({
      columnWidth : '.item-grid-sizer',
      gutter : 15,
      itemSelector : '.item-grid',
      percentPosition : 'true',
      fitWidth: true,
      });
      
    });
  </script>
  
