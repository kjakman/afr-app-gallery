<style type="text/css">
	.item-container{
		margin:0px auto;
	}
	.item-grid {
		display: block;
		padding:0px 15px;
	    float: left;
		overflow: hidden;
		z-index: 1;
	}
	.item-grid-contnt{
		
	}
	.item-grid h3 {
		color: #000;
	}
	.item-grid p {
		color: #5b5b5b;
	}
	.item-grid img {
		width: 100%;
		height: auto;
		display: block;
	}
	.item-grid-sizer, .item-grid {
		width: 32%;
	}
	@media screen and (max-width: 750px) {
		.item-grid-sizer, .item-grid {
			width: 46%;
		}
	}
	@media screen and (max-width: 500px) {
		.item-grid-sizer, .item-grid {
			width: 100%;
		}
	}
</style>
<div>
	<span style="font-size: 28px;">Exhibitions</span>
</div><br>

<div class="item-container">

	<div class="item-grid-sizer"></div>
	<div class="item-gutter-sizer"></div>
	{foreach from=$exhibitions item=exhibition}
		{$container_id = "media_collection_`$exhibition.id`"}
		{$data = ["obj_type" => "media_collection","obj_id" => $exhibition.id, "plugin_id" => "1355","container_id" => $container_id]}
		{$popup_options = ["buttons" => ["info","contact","map","zoom","share","fullscreen"], "tabs" => ["artwork","artist"], "title" => ["artwork","technique","artist","year"]]}

		<div class="item-grid">
			<figure id="{$exhibition.id}" data-data='{$data|@json_encode}' data-sharer_id="{$scope.user_id}" data-index="{$index}" data-popup_options='{$popup_options|@json_encode}' class="__vp-plugin-container vp-loader-photoswipe">         
				<div class="__vp-flip-container" ontouchstart="this.classList.toggle('hover');">           
				  <div class="__vp-flipper">             
					<div class="__vp-flip-front">
					  	<img class="__vp-plugin-image center-cropped" src="{$exhibition|collection_photo:'medium'}"  alt="{$exhibition.name}"> 
					</div>             
					<div class="__vp-flip-back __vp-plugin-hover">               
					  <img class="__vp-flip-back-image" src="{$exhibition|collection_photo:'small'}" alt="{$exhibition.name}">               
					  <div class="__vp-flip-back-card"> 
						  <h2>{$exhibition.title}</h2>   
						  <div class="mt10">{$exhibition|artists}</div> 
						  <div>{$exhibition.start_date|date_format:"%e %b %Y"} - {$exhibition.end_date|date_format:"%e %b %Y"}</div>    
						  <a class="__vp-info __vp-view-button" id="__vp-view-button-1355">View</a> 
					  </div>                                                                
					</div>           
				  </div>         
				</div>
				{{"include": "minisites/exh_details.html"}} 
			</figure>
		</div>

		{$index = $index + 1}
	{/foreach}
</div>

<script src='https://cdnjs.cloudflare.com/ajax/libs/masonry/3.3.2/masonry.pkgd.min.js'></script>
<script>
	jQuery(window).on('load', function() {
  
	  $('.item-container').masonry({
		columnWidth : '.item-grid-sizer',
		gutter : 15,
		itemSelector : '.item-grid',
		percentPosition : 'true',
		fitWidth: true,
	  });
	  
	});
</script>